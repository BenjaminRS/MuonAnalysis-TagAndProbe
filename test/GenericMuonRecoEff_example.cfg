process MuonEff = {

    source = PoolSource 
    { 
      untracked vstring fileNames = {
         // FNAL Zmumu RelVal file - put your own file here!
	 'file:/uscms/home/neadam/scratch/tmp/12A30A53-25D0-DC11-86C1-000423D6BA18.root'
      } 
    }
    
    untracked PSet maxEvents = {untracked int32 input = 1000 }
    
    // keep the logging output to a nice level
    service = MessageLogger {
	untracked vstring destinations   = { "cout","cerr" }
    }
    
    
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"

    module analyze = TagProbeAnalyzer 
    {
       // The output file to store our event TTree
       untracked string rootFile = "output/generic_mu_pair_tagprobe_global_efficiency_cmssw174_v1.root"

       // Type of tag-probe candidates, use "Muon" or "Electron"
       untracked string tagProbeType = "Muon"
       
       // Store some generic information about the event
       // in case we want it
       untracked vint32 mcParticles = {23,13,22}
       untracked vint32 mcParents   = {0,0,0}
       untracked VInputTag trackTags = {ctfWithMaterialTracks,standAloneMuons,globalMuons}
       untracked InputTag verticesTag = offlinePrimaryVerticesFromCTFTracks

       // Tag & Probe Muon Candidate Collections
       untracked VInputTag tagCandTags = {preGlbCands}
       untracked VInputTag passProbeCandTags = {tkStaMatched}
       untracked VInputTag allProbeCandTags = {preTkCands}

       // Truth Map Tags
       untracked VInputTag tagTruthMatchMapTags = {tagMuonMatch}
       untracked VInputTag passProbeTruthMatchMapTags = {passProbeMuonMatch}
       untracked VInputTag allProbeTruthMatchMapTags = {allProbeMuonMatch}

       // Tag & Probe Muon Association Map ... can have many, for
       // as many kinds of probe/pass-probe combination as desired.
       // (Then the above muon and cand arrays should be filled appropriately)
       untracked VInputTag tagProbeMapTags = { muonTagProbeMap }

       // Trigger & Trigger Matching tags
       untracked InputTag hltL1Tag = SingleMuIsoLevel1Seed
       untracked InputTag hltTag = SingleMuIsoL3IsoFiltered
       untracked double triggerDelRMatch = 0.15

       // Z Candidates
       //untracked VInputTag zCandTags = { ZTagTagCand, ZTagProbeCand, ZTagPassProbeCand }
   }


    include "MuonAnalysis/TagAndProbe/data/tag_probe_generic.cfi"
    
    //path p1 = { muon_cands & z_cands }
    path p1 = { muon_cands }
    
    endpath the_end = { analyze }
    
}
